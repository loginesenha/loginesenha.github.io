<!DOCTYPE html>
<html lang="pt-br">
<head>
    <link rel="stylesheet" href="index.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registro</title>
</head>
<body>

    <div id="menu">
        <h1 id="titulo_usuarios">Usuarios</h1>
        <div id="divisao_menu">
            <h2 id="texto_cadastrados">Cadastrados</h2>
            <div id="tela_usuarios">
                <p id="res_usuarios"></p>
            </div>
            <br>
            <input type="button" value="Logar" class="botao_usuarios" onclick="login()">
            <input type="button" value="Registrar" class="botao_usuarios" onclick="registro()">
        </div>
    </div>

    <div id="registro">
        <h1 id="titulo_registro">Registro</h1>
        <div id="divisao_registro">
            <label for="nome">Nome:</label>
            <input type="text" id="nome" placeholder="Digite seu nome">
            <br>
            <label for="login">Login:</label>
            <input type="text" id="login" placeholder="Login">
            <br>
            <label for="senha">Senha:</label>
            <input type="password" id="senha" placeholder="Senha">
            <br>
            <label for="conf">Confirmar senha:</label>
            <input type="password" id="conf_senha" placeholder="Confirmar senha">
            <br>
            <p id="registro_res"></p>
            <br>
            <input type="button" value="Registrar" id="botao" onclick="registrar()">
        </div>
    </div>

    <div id="logar">
        <h1 id="titulo_login">Login</h1>
        <div id="divisao_login">
            <label for="login">Login:</label>
            <input type="text" id="logar_login">
            <br>
            <label for="senha">Senha:</label>
            <input type="password" id="logar_senha">
            <br>
            <p id="login_res"></p>
            <br>
            <input type="button" id="botao" value="Logar" onclick="logar()">
        </div>
    </div>

    <script>

        
        var array_usuarios = new Array()
        
        var div_registro = document.getElementById('registro')
        var div_login = document.getElementById('logar')
        
        tela_usuarios.style.display = 'none'
        
        div_registro.style.display = 'none'
        div_login.style.display = 'none'
        
        function registrar() {
        
            let name = document.getElementById('nome').value
            let log = document.getElementById('login').value
            let sen = document.getElementById('senha').value
            let conf = document.getElementById('conf_senha').value
            let res = document.getElementById('registro_res')
        
            if (name == '' || log == '' || sen == '' || conf == '') {
                res.innerHTML = 'Preencha todos os campos!'
                res.style.color = 'red'
                return
            } else if (sen != conf) {
                res.innerHTML = 'Senhas inv치lidas!'
                res.style.color = 'red'
                return
            } else { 
        
                for (let conta of array_usuarios) {
                    if (conta.login == log) {
                        res.innerHTML = 'Login j치 utilizado!'
                        res.style.color = 'red'
                        return
                    }
                }
        
                res.innerHTML = 'Cadastrado com sucesso!'
                res.style.color = 'green'
                array_usuarios.push({nome: name, login: log, senha: sen})
            }
        
            let res_usuarios = document.getElementById('res_usuarios')
            array_usuarios.forEach(function(item, index) {
                if (index + 1 == array_usuarios.length) {
                    res_usuarios.innerHTML += `${index + 1} - ${item.nome}</br>`
                }
            })
        
            if (array_usuarios.length != 0) {
                tela_usuarios.style.display = 'block'
            }
        }
        
        function logar() {
            let login_usuario = document.getElementById('logar_login').value
            let senha_usuario = document.getElementById('logar_senha').value
            let res_login = document.getElementById('login_res')
        
            if (login_usuario == '' || senha_usuario == '') {
                res_login.innerHTML = 'Preencha todos os campos!'
                res_login.style.color = 'red'
            } else {
                for (let item of array_usuarios) {
                    if (item.login == login_usuario && item.senha == senha_usuario) {
                        res_login.innerHTML = `Login aprovado!</br>Ol치, <strong>${item.nome}</strong>`
                        res_login.style.color = 'green'
                        break
                    } else {
                        res_login.innerHTML = 'Login ou Senha inv치lidos!'
                        res_login.style.color = 'red'
                    }
            }
            }
        }
        
        function registro() {
            div_login.style.display = 'none'
            div_registro.style.display = 'block'
        }
        function login() {
            div_login.style.display = 'block'
            div_registro.style.display = 'none'
        }
    </script>
</body>
</html>
